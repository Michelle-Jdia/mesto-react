{"version":3,"sources":["images/Vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Footer.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","link","name","onClick","type","length","Main","props","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","about","map","PopupWithForm","isOpen","onClose","noValidate","onSubmit","handleSubmit","title","children","buttonText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","value","placeholder","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","AddPlacePopup","setLink","_","Footer","Date","getFullYear","api","address","headers","this","_address","_headers","fetch","then","_checkResponse","method","body","JSON","stringify","url","console","log","cardId","dislikeCard","likeCard","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isImagePopupOpen","setImagePopupOpen","closeAllPopups","getInitialCards","cardList","catch","err","getUserInfo","data","Provider","i","changeLikeCardStatus","newCard","currentCard","removeCard","newCards","filter","elem","editUserInfo","addCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c7f9fc2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import logo from '../images/Vector.svg';\r\nexport default Header;\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header page__header\">\r\n\t\t\t<img src={logo} alt=\"logo\" className=\"header__logo\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default Card;\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\tconst isOwn = card.owner._id === currentUser._id;\r\n\r\n\tconst cardDeleteButtonClassName = `cards__bin ${isOwn ? 'cards__bin-delete' : 'cards__bin_hide'}`;\r\n\r\n\tconst isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n\tconst cardLikeButtonClassName = `cards__heart ${isLiked ? 'cards__heart_active' : ''}`;\r\n\r\n\tfunction handleClick() {\r\n\t\tonCardClick(card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tonCardLike(card);\r\n\t}\r\n\r\n\tfunction handleCardDelete() {\r\n\t\tonCardDelete(card);\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"template\">\r\n\t\t\t<article className=\"cards\">\r\n\t\t\t\t<img src={card.link} alt={card.name} className=\"cards__image\" onClick={handleClick} />\r\n\t\t\t\t<div className=\"cards__info\">\r\n\t\t\t\t\t<h2 className=\"cards__title\">{card.name}</h2>\r\n\t\t\t\t\t<div className=\"cards__likes-container\">\r\n\t\t\t\t\t\t<button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n\t\t\t\t\t\t<span className=\"cards__likes\">{card.likes.length}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete} />\r\n\t\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport '../index.css';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default Main;\r\nfunction Main(props) {\r\n\tconst { onEditAvatar, onAddPlace, onEditProfile, onCardClick, onCardLike, onCardDelete, cards } = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t\t<section className=\"profile content__section\">\r\n\t\t\t\t<div className=\"profile__avatar-container\">\r\n\t\t\t\t\t<img src={`${currentUser.avatar}`} alt=\"avatar photo\" className=\"profile__avatar\" />\r\n\t\t\t\t\t<div className=\"profile__hover-edit\" onClick={onEditAvatar} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"profile__container-info\">\r\n\t\t\t\t\t<div className=\"profile__avatar-info\">\r\n\t\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t<button className=\"profile__button-edit\" type=\"button\" onClick={onEditProfile} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className=\"profile__subtitle\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"profile__button-add\" type=\"button\" onClick={onAddPlace} />\r\n\t\t\t</section>\r\n\t\t\t<section className=\"pictures\">\r\n\t\t\t\t{cards.map((card) => (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\tonCardLike={onCardLike}\r\n\t\t\t\t\t\tonCardDelete={onCardDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n","import React from 'react';\r\nexport default PopupWithForm;\r\nfunction PopupWithForm(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${props.name} ${props.isOpen && 'popup__opened'}`}>\r\n\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t<button className=\"popup__close\" type=\"button\" onClick={props.onClose} />\r\n\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName={`popup__form form_type_${props.name}`}\r\n\t\t\t\t\tname={props.name}\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t\tonSubmit={props.handleSubmit}>\r\n\t\t\t\t\t<h2 className=\"popup__title\">{props.title}</h2>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t\t<button className=\"popup__button\" type=\"submit\">\r\n\t\t\t\t\t\t{props.buttonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nexport default ImagePopup;\r\nfunction ImagePopup(props) {\r\n\treturn (\r\n\t\t<div className={`popup popup-img ${props.card && props.isOpen ? 'popup__opened' : 'popup__hide'}`}>\r\n\t\t\t<div className=\"popup-img__container\">\r\n\t\t\t\t<button className=\"popup-img__close\" type=\"button\" onClick={props.onClose} />\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={props.card ? props.card.link : ''}\r\n\t\t\t\t\talt={props.card ? props.card.name : ''}\r\n\t\t\t\t\tclassName=\"popup-img__image\"\r\n\t\t\t\t/>\r\n\t\t\t\t<p className=\"popup-img__subtitle\">{props.card ? props.card.name : ''}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nexport default EditProfilePopup;\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\tconst [ name, setName ] = React.useState('');\r\n\tconst [ description, setDescription ] = React.useState('');\r\n\r\n\tfunction handleChangeName(evt) {\r\n\t\tsetName(evt.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeDescription(evt) {\r\n\t\tsetDescription(evt.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(evt) {\r\n\t\tevt.preventDefault();\r\n\t\tonUpdateUser({\r\n\t\t\tname: name,\r\n\t\t\tabout: description\r\n\t\t});\r\n\t}\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tsetName(currentUser.name);\r\n\t\t\tsetDescription(currentUser.about);\r\n\t\t},\r\n\t\t[ currentUser, isOpen ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\ttitle=\"Edit Profile\"\r\n\t\t\tname=\"profile\"\r\n\t\t\tbuttonText=\"Save\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\thandleSubmit={handleSubmit}>\r\n\t\t\t<input\r\n\t\t\t\tid=\"input-profile-name\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclassName=\"popup__input popup__input-text\"\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\tvalue={name || ''}\r\n\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\trequired\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\tonChange={handleChangeName}\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__input-error\" />\r\n\t\t\t<input\r\n\t\t\t\tid=\"nput-about\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclassName=\"popup__input-text popup__input-text_type_job\"\r\n\t\t\t\tname=\"about\"\r\n\t\t\t\tvalue={description || ''}\r\n\t\t\t\tplaceholder=\"About me\"\r\n\t\t\t\trequired\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\tonChange={handleChangeDescription}\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__input-error\" />\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nexport default EditAvatarPopup;\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n\tconst avatarInput = React.useRef();\r\n\r\n\tfunction handleSubmit(evt) {\r\n\t\tevt.preventDefault();\r\n\t\tonUpdateAvatar({\r\n\t\t\tavatar: avatarInput.current.value\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\ttitle=\"Change Avatar\"\r\n\t\t\tname=\"avatar\"\r\n\t\t\tbuttonText=\"Save\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\thandleSubmit={handleSubmit}>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"url\"\r\n\t\t\t\tclassName=\"popup-avatar__input-text popup-avatar__input-link\"\r\n\t\t\t\tid=\"avatar-input-link\"\r\n\t\t\t\tname=\"link\"\r\n\t\t\t\tplaceholder=\"Link to image\"\r\n\t\t\t\tref={avatarInput}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span className=\"form-avatar-input-error\"> </span>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nexport default AddPlacePopup;\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n\tconst [ name, setName ] = React.useState('');\r\n\tconst [ link, setLink ] = React.useState('');\r\n\tReact.useEffect(\r\n\t\t(_) => {\r\n\t\t\tsetName('');\r\n\t\t\tsetLink('');\r\n\t\t},\r\n\t\t[ isOpen ]\r\n\t);\r\n\tfunction handleSubmit(evt) {\r\n\t\tevt.preventDefault();\r\n\t\tonAddPlace({\r\n\t\t\tname: name,\r\n\t\t\tlink: link\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleChangeName(evt) {\r\n\t\tsetName(evt.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeLink(evt) {\r\n\t\tsetLink(evt.target.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\ttitle=\"New Place\"\r\n\t\t\tname=\"photo\"\r\n\t\t\tbuttonText=\"Save\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\thandleSubmit={handleSubmit}>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tclassName=\"popup-creat__input-text popup-creat__input-name\"\r\n\t\t\t\tid=\"input-name\"\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\trequired\r\n\t\t\t\tminLength=\"2\"\r\n\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\tvalue={name}\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__input-error\" />\r\n\t\t\t{/* <label className=\"popup-creat__label\" for=\"input-link\"></label> */}\r\n\t\t\t<input\r\n\t\t\t\ttype=\"url\"\r\n\t\t\t\tclassName=\"popup-creat__input-text popup-creat__input-link\"\r\n\t\t\t\tid=\"input-link\"\r\n\t\t\t\tname=\"link\"\r\n\t\t\t\tplaceholder=\"link to image\"\r\n\t\t\t\tonChange={handleChangeLink}\r\n\t\t\t\tvalue={link}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t\t<span className=\"popup__input-error\" />\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n","import React from 'react';\r\nexport default Footer;\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer page__footer\">\r\n\t\t\t<p className=\"footer__copyright\">{`© 2020 - ${new Date().getFullYear()} Place Russia`}</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n","class Api {\r\n  constructor({ address, headers }) {\r\n    this._address = address;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editUserInfo(name, about) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editUserAvatar(url) {\r\n    console.log(url);\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._address}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  dislikeCard(cardId) {\r\n    return fetch(`${this._address}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._address}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.dislikeCard(cardId);\r\n    } else {\r\n      return this.likeCard(cardId);\r\n    }\r\n  }\r\n  _checkResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n  headers: {\r\n    authorization: \"c978f897-d705-4f1d-8b98-36c9feaeed93\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Footer from './Footer';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default App;\r\nfunction App() {\r\n\tconst [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\r\n\tconst [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\r\n\tconst [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\r\n\tconst [ selectedCard, setSelectedCard ] = React.useState({});\r\n\tconst [ currentUser, setCurrentUser ] = React.useState({});\r\n\tconst [ cards, setCards ] = React.useState([]);\r\n\tconst [ isImagePopupOpen, setImagePopupOpen ] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapi\r\n\t\t\t.getInitialCards()\r\n\t\t\t.then((cardList) => {\r\n\t\t\t\tsetCards(cardList);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\tfunction handleCardLike(card) {\r\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n\t\tapi\r\n\t\t\t.changeLikeCardStatus(card._id, isLiked)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tsetCards((cards) => cards.map((currentCard) => (currentCard._id === card._id ? newCard : currentCard)));\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tapi\r\n\t\t\t.removeCard(card._id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst newCards = cards.filter((elem) => elem !== card);\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tapi\r\n\t\t\t.getUserInfo()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCurrentUser(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t}\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetSelectedCard(null);\r\n\t}\r\n\r\n\tfunction handleCardClick(card) {\r\n\t\tsetSelectedCard(card);\r\n\t\tsetImagePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleUpdateUser({ name, about }) {\r\n\t\tapi\r\n\t\t\t.editUserInfo(name, about)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCurrentUser(data);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar({ avatar }) {\r\n\t\tapi\r\n\t\t\t.editUserAvatar(avatar)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCurrentUser(data);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\tfunction handleAddPlaceSubmit({ name, link }) {\r\n\t\tapi\r\n\t\t\t.addCard(name, link)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCards([ data, ...cards ]);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<Header />\r\n\t\t\t\t{/* main */}\r\n\t\t\t\t<Main\r\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\tcards={cards}\r\n\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* end main */}\r\n\r\n\t\t\t\t{/* footer */}\r\n\t\t\t\t<Footer />\r\n\t\t\t\t{/* end footer */}\r\n\r\n\t\t\t\t{/* popup profile */}\r\n\r\n\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* end popup profile */}\r\n\r\n\t\t\t\t{/* start popup creat card */}\r\n\r\n\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* end popup creat card */}\r\n\r\n\t\t\t\t{/* start popup edit avatar */}\r\n\r\n\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* end popup edit avatar */}\r\n\r\n\t\t\t\t{/* start popup ask */}\r\n\t\t\t\t<PopupWithForm title=\"Are you sure?\" name=\"remove-card\" buttonText=\"Yes\" onClose={closeAllPopups} />\r\n\t\t\t\t{/* end popup ask */}\r\n\r\n\t\t\t\t{/* start popup img */}\r\n\r\n\t\t\t\t<ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen} />\r\n\r\n\t\t\t\t{/* end popup img */}\r\n\t\t\t</div>\r\n\t\t</CurrentUserContext.Provider>\r\n\t);\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}