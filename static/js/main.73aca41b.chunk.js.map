{"version":3,"sources":["images/Vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Footer.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","link","name","onClick","type","length","Main","props","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","about","map","PopupWithForm","isOpen","onClose","noValidate","onSubmit","handleSubmit","title","children","buttonText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","value","placeholder","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","AddPlacePopup","setLink","_","Footer","Date","getFullYear","api","address","headers","this","_address","_headers","fetch","then","_checkResponse","method","body","JSON","stringify","url","console","log","cardId","dislikeCard","likeCard","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isImagePopupOpen","setImagePopupOpen","closeAllPopups","getInitialCards","cardList","catch","err","getUserInfo","data","Provider","i","changeLikeCardStatus","newCard","currentCard","removeCard","newCards","filter","elem","editUserInfo","addCard","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73aca41b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import logo from \"../images/Vector.svg\";\r\nexport default Header;\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__header\">\r\n      <img src={logo} alt=\"Логотип сайта\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default Card;\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `cards__bin ${\r\n    isOwn ? \"cards__bin-delete\" : \"cards__bin_hide\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n  const cardLikeButtonClassName = `cards__heart ${\r\n    isLiked ? \"cards__heart_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n  return (\r\n    <div className=\"template\">\r\n      <article className=\"cards\">\r\n        <img\r\n          src={card.link}\r\n          alt={card.name}\r\n          className=\"cards__image\"\r\n          onClick={handleClick}\r\n        />\r\n        <div className=\"cards__info\">\r\n          <h2 className=\"cards__title\">{card.name}</h2>\r\n          <div className=\"cards__likes-container\">\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              type=\"button\"\r\n              onClick={handleLikeClick}></button>\r\n            <span className=\"cards__likes\">{card.likes.length}</span>\r\n          </div>\r\n          <button\r\n            className={cardDeleteButtonClassName}\r\n            type=\"button\"\r\n            onClick={handleCardDelete}></button>\r\n        </div>\r\n      </article>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport \"../index.css\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default Main;\r\nfunction Main(props) {\r\n  const { onEditAvatar, onAddPlace, onEditProfile, onCardClick, onCardLike, onCardDelete, cards } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile content__section\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            src={`${currentUser.avatar}`}\r\n            alt=\"Фото Аватара\"\r\n            className=\"profile__avatar\"\r\n          />\r\n          <div className=\"profile__hover-edit\" onClick={onEditAvatar}></div>\r\n        </div>\r\n        <div className=\"profile__container-info\">\r\n          <div className=\"profile__avatar-info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              className=\"profile__button-edit\"\r\n              type=\"button\"\r\n              onClick={onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__button-add\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}></button>\r\n      </section>\r\n      <section className=\"pictures\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport default PopupWithForm;\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen && \"popup__opened\"\r\n      }`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}></button>\r\n\r\n        <form\r\n          className={`popup__form form_type_${props.name}`}\r\n          name={props.name}\r\n          noValidate\r\n          onSubmit={props.handleSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport default ImagePopup;\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup-img ${props.card && props.isOpen ? \"popup__opened\" : \"popup__hide\"}`}>\r\n      <div className=\"popup-img__container\">\r\n        <button\r\n          className=\"popup-img__close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}></button>\r\n        <img\r\n          src={props.card ? props.card.link : ''}\r\n          alt={props.card ? props.card.name : ''}\r\n          className=\"popup-img__image\"\r\n        />\r\n        <p className=\"popup-img__subtitle\">{props.card ? props.card.name : ''}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nexport default EditProfilePopup;\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}>\r\n      <input\r\n        id=\"input-profile-name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input-text\"\r\n        name=\"name\"\r\n        value={name || \"\"}\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleChangeName}\r\n      />\r\n      <span className=\"popup__input-error\"></span>\r\n      <input\r\n        id=\"nput-about\"\r\n        type=\"text\"\r\n        className=\"popup__input-text popup__input-text_type_job\"\r\n        name=\"about\"\r\n        value={description || \"\"}\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleChangeDescription}\r\n      />\r\n      <span className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nexport default EditAvatarPopup;\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarInput = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarInput.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}>\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup-avatar__input-text popup-avatar__input-link\"\r\n        id=\"avatar-input-link\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        ref={avatarInput}\r\n        required\r\n      />\r\n      <span className=\"form-avatar-input-error\"> </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nexport default AddPlacePopup;\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  React.useEffect(_ => {\r\n    setName('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  }\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"photo\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      handleSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup-creat__input-text popup-creat__input-name\"\r\n        id=\"input-name\"\r\n        name=\"name\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        onChange={handleChangeName}\r\n        value={name}\r\n      />\r\n      <span className=\"popup__input-error\"></span>\r\n      {/* <label className=\"popup-creat__label\" for=\"input-link\"></label> */}\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup-creat__input-text popup-creat__input-link\"\r\n        id=\"input-link\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChangeLink}\r\n        value={link}\r\n        required\r\n      />\r\n      <span className=\"popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nexport default Footer;\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">{`© 2020 - ${new Date().getFullYear()} Mesto Russia`}</p>\r\n    </footer>\r\n  );\r\n}","class Api {\r\n  constructor({ address, headers }) {\r\n    this._address = address;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editUserInfo(name, about) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editUserAvatar(url) {\r\n    console.log(url);\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: url,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this._address}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  dislikeCard(cardId) {\r\n    return fetch(`${this._address}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._address}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.dislikeCard(cardId);\r\n    } else {\r\n      return this.likeCard(cardId);\r\n    }\r\n  }\r\n  _checkResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n  headers: {\r\n    authorization: \"c978f897-d705-4f1d-8b98-36c9feaeed93\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Footer from \"./Footer\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default App;\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cardList) => {\r\n        setCards(cardList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((cards) =>\r\n          cards.map((currentCard) =>\r\n            currentCard._id === card._id ? newCard : currentCard\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((elem) => elem !== card);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .editUserInfo(name, about)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .editUserAvatar(avatar)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleAddPlaceSubmit({ name, link }) {\r\n    api\r\n      .addCard(name, link)\r\n      .then((data) => {\r\n        setCards([data, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        {/* main */}\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          cards={cards}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        {/* end main */}\r\n\r\n        {/* footer */}\r\n        <Footer />\r\n        {/* end footer */}\r\n\r\n        {/* popup profile */}\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        {/* end popup profile */}\r\n\r\n        {/* start popup creat card */}\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        {/* end popup creat card */}\r\n\r\n        {/* start popup edite avatar */}\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        {/* end popup edite avatar */}\r\n\r\n        {/* start popup ask */}\r\n        <PopupWithForm\r\n          title=\"Вы уверены?\"\r\n          name=\"remove-card\"\r\n          buttonText=\"Да\"\r\n          onClose={closeAllPopups}></PopupWithForm>\r\n        {/* end popup ask */}\r\n\r\n        {/* start popup img */}\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n          isOpen={isImagePopupOpen}\r\n        />\r\n\r\n        {/* end popup img */}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}